# Проект на Go с использованием Chi, Pgx и JWT

## Описание проекта

Этот проект представляет собой REST API, написанный на языке Go, с использованием следующих технологий:

- **Chi**: Легковесный маршрутизатор для создания REST API.
- **Pgx**: Низкоуровневая библиотека для взаимодействия с PostgreSQL.
- **JWT**: Технология для аутентификации и авторизации пользователей.

Проект включает функционал для управления пользователями, проектами, задачами, комментариями и напоминаниями. Все данные хранятся в базе данных PostgreSQL.

## Установка и настройка

### 1. Клонирование репозитория

```sh
git clone https://gitlab.com/Berg679/todo_activity.git
cd project-name
```
### 2. Установка зависимостей

```sh
go mod tidy
```
### 3. Настройка базы данных
Убедитесь, что PostgreSQL установлен и запущен на вашем сервере.

Создайте базу данных:
```sh
CREATE DATABASE todo_activity;
```
Создайте таблицы, используя миграции, которые выполняются автоматически при запуске проекта.

### 4. Запуск проекта
```sh 
go run cmd/server/main.go
```
Сервер будет запущен на порту 8080.

### Использование API
#### Регистрация пользователя
- URL: /register
- Метод: POST
- Тело запроса: JSON

```json
{
    "username": "john_doe",
    "email": "john@example.com",
    "password_hash": "password123"
}
```
#### Вход пользователя
- URL: /login
- Метод: POST
- Тело запроса: JSON
```json
{
    "email": "john@example.com",
    "password": "password123"
}
```
- Ответ: JWT токен
```json
{
"token": "your_jwt_token"
}
```
#### Получение списка пользователей (Защищенный маршрут)
- URL: /users
- Метод: GET
- Заголовок: Authorization: Bearer your_jwt_token

#### Middleware
```text
Проект использует middleware для валидации JWT-токенов. 
Все защищенные маршруты требуют наличия корректного токена в заголовке Authorization.
```

#### Структура проекта
- cmd/server/main.go: Основной файл для запуска сервера.
- pkg/db/db.go: Функции для подключения и миграции базы данных.
- pkg/models: Модели данных.
- pkg/handlers: Обработчики для работы с API.
- pkg/routes: Определение маршрутов.
- pkg/auth/jwt.go: Функции для работы с JWT.
- pkg/middleware/auth.go: Middleware для защиты маршрутов.

#### Тестирование

```text
Вы можете использовать такие инструменты, как Postman или curl, 
для тестирования API.
Не забудьте добавить заголовок Authorization с токеном при обращении к защищенным маршрутам.
```